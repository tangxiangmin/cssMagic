
## 样式命名
折腾`CSS`类名已经很长一段时间了，也得到了一些教训和经验。参考文档：
* [BEM的定义](http://www.w3cplus.com/css/bem-definitions.html)
* [网易NEC前端规范](http://nec.netease.com/standard/css-practice.html)

### 理解BEM
在我的项目中，我使用`_`声明元素，使用`-`声明修饰符，连词之间使用驼峰，这个类名可能会有些“三不像”，但是只要明确了他们的含义并一直保持，跟这种命名方式带来的便利比起来，也就无关紧要了。
#### 块和元素
`BEM`尽管看起来是根据元素的嵌套来进行命名的，但实际上只有两层结构：块名和块下面的元素：
* 一个块是一个独立的区域，就像页面的一块“积木”，一个块既可以是简单的也可以包含其他的块；
* 一个元素是块的一部分，具有某种功能或位置含义。元素是依赖上下文的：它们只有处于他们应该属于的块的上下文中时才是有意义的。

需要注意的是没有必要为所有的类都使用`BEM`命名，有的元素尽管出现在其他元素内部，但只是一个独立的组件或颗粒样式，不必使用`_`进行命名。
如果该组件A在这个元素的内部有独立的样式，可以使用在这个元素的命名空间下单独进行声明；     
如果这个元素也被作为一个组件B在其他地方复用，则可以使用修饰符为这个组A件添加额外的类，并伴随组件B一起被复用。

不厚道地把[官网](https://en.bem.info/methodology/key-concepts/)上的图拿过来了。
![bemDemo](./img/bemDemo.png)
单单只考虑这张图的话，以独立的单词表示`块`，以`_`连接块和组成这个块的元素，可以采用下面的命名和页面结构：
```
<div class="head">
    <ul class="menu">
        <li class="menu_item"></li>
        <li class="menu_item"></li>
        <li class="menu_item"></li>
        <li class="menu_item"></li>
    </ul>
    <div class="head_left">
        <div class="logo"></div>
    </div>
    <div class="head_main">
        <form action="" class="search">
            <input type="text" class="search_input">
            <button class="search_submit" type="submit"></button>
        </form>
    </div>
    <div class="head_right">
        <form action="" class="auth">
            <div class="auth_group">
                <input type="text" class="auth_input">
            </div>
            <div class="auth_group">
                <input type="text" class="auth_input">
            </div>
            <div class="auth_group">
                <input type="text" class="auth_button">
            </div>
        </form>
    </div>
</div>
```
样式表就应该为
```
.head{
    &_left {}
    &_main {}
    &_right {}
}
.menu {
    &_item {}
}
.search {
    &_input {}
    &_submit {}
}
.auth {
    &_group{}
    &_input {}
    &_submit {}
}
```

首先需要理解的是，每个块之间相互是独立的。     
块中可以包含其他的块，每个块之间相互是独立的，块只决定了他的元素的样式（实际上样式表中，元素是不必嵌套在块中，这么做主要是为了可以使用`&`快速构建样式表）。     

其次，正确区分块和元素是非常重要的。前面提到：
* 元素是依赖于块的，只有处于他们的块中元素才是有意义的。
* 块是由元素组成的，不存在没有任何元素的块（那个时候应该被称为颗粒类）

#### 修饰符
造成区分块和元素较困难的一种情形是：在`head`块中的`auth`块，也应用在其他地方比如`foot`，只不过有些许区别，这时候，相当于`auth`根据所处的块样式发生了改变，这时候应该将`auth`还看做是独立的块，还是依赖于`head`块的元素`head_auth`和`foot`块的元素`foot_auth`呢？

答案是：将`auth`看做是一个独立的块！这也正是修饰符存在的理由。

如果需要创建一个和已存在的块非常相似的块，只是外观或行为有些许改变，则可以使用修饰符；同理，也可以为元素添加修饰符。

最简单的修饰符大概莫过于数字了，这时候你想到了什么？没错，网格系统`col-xs-3`这样的类名，就可以看做是`col`块拥有两个修饰符`xs`和`3`，至于他们的具体含义是什么，就需要我们自己定义了。

回到上面那个问题，为了区分`head`和`foot`块中的两个`auth`，我们可以添加后缀`auth-inHead`和`auth-inFoot`这两个修饰符，当然，这两个修饰符完全没有扩展性，如果在侧边栏也使用了`auth-inHead`块，那么这个命名就容易让人混淆。
关于修饰符有下面几条心得：
* 修饰符尽量避免关联结构上的语义，比如`-inHead`这样的，哪怕是直接使用没有语义的数字来命名修饰符。
* 修饰符应当根据两个相似的块的实际样式差别来取舍，而不是这两个块所处的结构上的不同。
* 如果一个块在页面上大量应用，而另一个相似的块使用次数较少，可以考虑不设置这个使用次数较多的块的修饰符，而将他作为`SCSS`的继承基类。

#### 结论
如果某个块在页面上大量使用，则这个块的名字不应该是“实际语义化”的。回到上面的例子，`search`和`auth`都包含元素`_input`,`_submit`，他们的本质都是`form`标签，因此，更明智的做法是都将他们看做是`form`块，而不是两个独立的块，然后采用修饰符进行修饰:
* `search`对应`form-inline`
* `auth`对应`form-horizontal`

这样，就可以统一他们的元素为`form_group`和`form_input`。至于`_submit`，不觉得把它们看做是独立的`btn`块更合适吗？当然，如果这个按钮的样式是这个块独有的，作为元素也是十分合适的，这样就回到了前面的问题：明智地决定一个标签到底是块还是元素！

最后得出的结论是：
* 如果两个块中存在相似的元素，则可以考虑将他们组合为一个块，并使用修饰符区分
* 如果一个元素的样式比较通用且独立，可以考虑将元素抽象为块；如果该元素不由其他元素组成，也可以考虑将元素转变为独立的颗粒类，颗粒类也可以使用修饰符进行区分
* 修饰符应当与包含块的语义无关，而应当是根据样式之间的差别来进行命名

### 名称库
`NEC`提供了许多的类名参考，根据需要可以拿来作为块名，元素名，和类名
* 实际语义名用作块名
* 语义名和`hd`,`sd`等方位名可用作元素名
* 修饰符在实际需求中进行指定